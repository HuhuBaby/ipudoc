# 1.httpGet

**功能**

获取网络数据。由于网络数据中可能含有特殊字符，因此此方法允许启用自动Escape转码。特别注意，启用自动Escape转码后，对于调用者来说是透明的。调用者无需关心转码的具体过程。



**定义**

WadeMobile.httpGet(callback,url,isEscape,encode);



**参数**

| 参数名   | 参数类型 | 参数描述    | 参数备注  |
| -------- | -------- | ------------- | -------------- |
| callback | function | 回调函数   | 必填  |
| url      | string   | 统一资源定位符   | 必填，不允许省略协议头 |
| isEscape | boolean  | 是否自动Escape转码 | 可选，默认false；false：不启用自动Escape转码，true：启用自动Escape转码 |
| encode   | string   | 资源文件的编码格式 | 可选，默认UTF-8  |

**范例**

```
WadeMobile.httpGet(function(data) {
    var arr=data.substring('var hq_str_s_sh000001="'.length,data.length-3).split(',');
    var br="<br />";
    $("#c2").html("名称:"+arr[0]+br+"价格:"+arr[1]+br);
    $("#c2").addClass("c_article");        
}, "http://hq.sinajs.cn/list=s_sh000001", true, "UTF-8"); //第三个参数true,由于需要escape传输

```



**备注**

示例中的data:字符串类型，网络上返回来的数据。如果开启了自动Escape转码。则返回的数据为已经解码后的数据。



# 2.httpRequest

**功能**

http请求。



**定义**

WadeMobile.httpRequest(callback,url,encode);



**参数**

| 参数名   | 参数类型 | 参数描述   | 参数备注    |
| -------- | -------- | ----------- | ---------------- |
| callback | function | 回调函数       | 必填        |
| url      | string   | 统一资源定位符   | 必填，不允许省略协议头 |
| encode   | string   | 资源文件的编码格式 | 可选，默认UTF-8        |



**范例**

```
WadeMobile.httpRequest(function(data) {
    console.log(data);  
}, "http://hq.sinajs.cn/list=s_sh000001?user=wyj&nicky=lucky", "UTF-8"); 

```



**备注**

示例中的data:字符串类型，网络上返回来的数据。如果开启了自动Escape转码。则返回的数据为已经解码后的数据。



# 3.shareByBluetooth

**功能**

开启蓝牙分享功能。注意，此蓝牙分享功能只能分享应用本身。



**定义**

WadeMobile.shareByBluetooth(err);



**参数**

| 参数名 | 参数类型 | 参数描述 | 参数备注 |
| ------ | -------- | -------- | -------- |
| err    | function | 错误信息 | 可选     |



**范例**

```
WadeMobile.shareByBluetooth();
```



**备注**

iOS端不支持该插件功能



# 4.uploadWithServlet

**功能**

文件上传，支持批量文件上传。



**定义**

WadeMobile.uploadWithServlet:function(filePath,dataAction,param,callback,err);



**参数**

| 参数名     | 参数类型 | 参数描述               | 参数备注 |
| ---------- | -------- | --------------- | -------- |
| filePath   | string   | 文件路径（相对于沙盒） | 必传     |
| dataAction | string   | 服务端servlet名称      | 必传     |
| dataParam  | DataMap  | 参数                   | 必传     |



**范例**

```
// 文件上传
var params = Wade.DataMap();
params.put("UPLOAD_PATH","photo"); // 图片上传的制定相对路径，如果没有设置，默认值temp
params.put("FILE_NAME","my.png");   // 图片默认的名字，如果没有设置，取原图片的名字
//服务端SESSION_ID不能为空,服务端配置verify="false"并不校验
params.put("SESSION_ID",new Date().getTime());
WadeMobile.uploadWithServlet(filePath, "UploadDownloadBean.upload", params.toString(), function(result) {
    var data = new Wade.DataMap(result);
    $("#fileUpload").html(data.get("FILE_PATH"));
});
```



**备注**

1.文件路径upload_path，可以是多个文件（数组），也可以是单个文件（字符串）； 

2.返回信息result，由服务端拼凑结果。



# 5. downloadWithServlet

**功能**

文件下载，单个文件下载。



**定义**

WadeMobile. downloadWithServlet:function(savePath,dataAction,param,callback,err);



**参数**

| 参数名     | 参数类型 | 参数描述   | 参数备注 |
| ---------- | -------- | ------------ | -------- |
| savePath   | string   | 文件保存路径（相对于沙盒）| 必传     |
| dataAction | string   | 服务端servlet名称   | 必传     |
| dataParam  | DataMap  | 参数（必须包含FILE_PATH，即文件在服务端的相对位置） |必传   |



**范例**

```
var savePath = "/my123.png";
var params = new Wade.DataMap();
params.put("FILE_PATH", "photo/my.png");//下载文件的相对路径
//服务端SESSION_ID不能为空,服务端配置verify="false"并不校验
WadeMobile.downloadWithServlet(savePath, "UploadDownloadBean.download", params.toString(), function(result){
    alert(result);
});
```



**备注**

1.返回信息result，由服务端拼凑结果，应返回文件在客户端的绝对路径。
